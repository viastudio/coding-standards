<?xml version="1.0"?>
<ruleset name="Via">
 <description>The VIA Studio PHP coding standard.</description>

 <!-- PSR2 base -->
 <rule ref="PSR2">
  <exclude name="PSR2.Classes.ClassDeclaration"/>
  <exclude name="Squiz.Functions.MultiLineFunctionDeclaration.BraceOnSameLine"/>
  <exclude name="PSR1.Files.SideEffects"/>
  <exclude name="PSR1.Classes.ClassDeclaration.MissingNamespace"/>
  <exclude name="PSR1.Methods.CamelCapsMethodName.NotCamelCaps" />
 </rule>

 <!-- add-ons -->
 <rule ref="PSR2.ControlStructures.ElseIfDeclaration.NotAllowed">
  <type>error</type>
 </rule>

 <rule ref="Generic.CodeAnalysis.UnusedFunctionParameter"/>
 <rule ref="Generic.Metrics.CyclomaticComplexity">
  <properties>
   <property name="absoluteComplexity" value="99"/>
  </properties>
 </rule>
 <rule ref="Generic.WhiteSpace.ScopeIndent">
  <properties>
   <property name="ignoreIndentationTokens" type="array" value="T_CLOSE_TAG,T_OPEN_TAG"/>
   <property name="exact" value="true"/>
  </properties>
 </rule>  
 <rule ref="Generic.Metrics.NestingLevel"/>
 <rule ref="Generic.Strings.UnnecessaryStringConcat"/>

 <rule ref="Squiz.Arrays.ArrayBracketSpacing"/>
 <rule ref="Squiz.Classes.LowercaseClassKeywords"/>
 <rule ref="Squiz.Commenting.FunctionCommentThrowTag"/>
 <rule ref="Squiz.Functions.FunctionDuplicateArgument"/>
 <rule ref="Squiz.PHP.DisallowMultipleAssignments"/>
 <rule ref="Squiz.PHP.DiscouragedFunctions"/>
 <rule ref="Squiz.PHP.GlobalKeyword"/>
 <rule ref="Squiz.PHP.InnerFunctions"/>
 <rule ref="Squiz.PHP.LowercasePHPFunctions"/>
 <rule ref="Squiz.PHP.NonExecutableCode"/>
 <rule ref="Squiz.Scope.StaticThisUsage"/>
 <rule ref="Squiz.WhiteSpace.CastSpacing"/>
 <rule ref="Squiz.WhiteSpace.LogicalOperatorSpacing"/>
 <rule ref="Snap.WhiteSpace.OperatorSpacing"/>
 <rule ref="Squiz.WhiteSpace.SemicolonSpacing"/>
</ruleset>
